/**
 * Generated by @openapi-codegen
 *
 * @version 4.0.0
 */
import type * as Schemas from "./schemas";

export type ApiShieldGlobalSettingsEdit =
  Schemas.ApiShieldGlobalSettingChangeBase;

export type ApiShieldGlobalSettingsUpdate = {
  /**
   * The default mitigation action used
   * Mitigation actions are as follows:
   *
   *   - `"log"` - log request when request does not conform to schema
   *   - `"block"` - deny access to the site when request does not conform to schema
   *   - `"none"` - skip running schema validation
   *
   * @example block
   * @x-auditable true
   */
  validation_default_mitigation_action: "none" | "log" | "block";
  /**
   * When set, this overrides both zone level and operation level mitigation actions.
   *
   *   - `"none"` - skip running schema validation entirely for the request
   *   - `null` - clears any existing override
   *
   * @x-auditable true
   */
  validation_override_mitigation_action?: "none" | any | null;
};

export type ApiShieldPerOperationSettingUpdate = {
  /**
   * When set, this applies a mitigation action to this operation
   *
   *   - `"log"` - log request when request does not conform to schema for this operation
   *   - `"block"` - deny access to the site when request does not conform to schema for this operation
   *   - `"none"` - will skip mitigation for this operation
   *   - `null` - clears any mitigation action
   *
   * @example block
   * @x-auditable true
   */
  mitigation_action: "log" | "block" | "none" | any | null;
};

/**
 * @example {"3818d821-5901-4147-a474-f5f5aec1d54e":{"mitigation_action":"log"},"b17c8043-99a0-4202-b7d9-8f7cdbee02cd":{"mitigation_action":"block"}}
 */
export type ApiShieldPerOperationSettingsBulkEdit = {
  [key: string]: {
    /**
     * Mitigation actions are as follows:
     * * `log` - log request when request does not conform to schema * `block` - deny access to the site when request does not conform to schema * `none` - skip running schema validation * null - clears any existing per-operation setting
     *
     * @example block
     */
    mitigation_action?: "none" | "log" | "block" | any | null;
  };
};

export type ApiShieldSchemaCreate = {
  /**
   * The kind of the schema
   *
   * @example openapi_v3
   */
  kind: "openapi_v3";
  /**
   * A human-readable name for the schema
   *
   * @example petstore schema
   */
  name: string;
  /**
   * The raw schema, e.g., the OpenAPI schema, either as JSON or YAML
   *
   * @example <schema file contents>
   */
  source: string;
  /**
   * An indicator if this schema is enabled
   */
  validation_enabled: boolean;
};

export type ApiShieldSchemaEdit = {
  /**
   * Flag whether schema is enabled for validation.
   */
  validation_enabled?: boolean;
};

/**
 * A ruleset object.
 */
export type RulesetsCreateRuleset = Schemas.RulesetsRuleset & {
  kind: Schemas.RulesetsRulesetKind;
  phase: Schemas.RulesetsRulesetPhase;
  rules?: Schemas.RulesetsRequestRules;
};

export type RulesetsManagedTransforms = Schemas.RulesetsManagedTransforms;

export type RulesetsRule = Schemas.RulesetsRequestRule & {
  position?:
    | (Schemas.RulesetsRulePosition & {
        /**
         * The ID of another rule to place the rule before. An empty value causes the rule to be placed at the top.
         *
         * @example da5e8e506c8e7877fe06cdf4c41add54
         * @pattern ^(?:[0-9a-f]{32})?$
         */
        before?: string;
      })
    | (Schemas.RulesetsRulePosition & {
        /**
         * The ID of another rule to place the rule after. An empty value causes the rule to be placed at the bottom.
         *
         * @example 5bccdbb2a5142cd25cad8591255bd209
         * @pattern ^(?:[0-9a-f]{32})?$
         */
        after?: string;
      })
    | (Schemas.RulesetsRulePosition & {
        /**
         * An index at which to place the rule, where index 1 is the first rule.
         *
         * @example 1
         * @minimum 1
         */
        index?: number;
      });
};

/**
 * A ruleset object.
 */
export type RulesetsUpdateEntrypointRuleset = Schemas.RulesetsRuleset & {
  rules?: Schemas.RulesetsRequestRules;
};

/**
 * A ruleset object.
 */
export type RulesetsUpdateRuleset = Schemas.RulesetsRuleset & {
  kind?: Schemas.RulesetsRulesetKind;
  phase?: Schemas.RulesetsRulesetPhase;
  rules?: Schemas.RulesetsRequestRules;
};

export type RulesetsUrlNormalization = Schemas.RulesetsUrlNormalization;

export type WorkersScriptUpload = Schemas.WorkersMultipartScript;

export type WorkersVersionPost = {
  /**
   * JSON encoded metadata about the uploaded parts and Worker configuration.
   */
  metadata: {
    annotations?: {
      /**
       * Human-readable message about the version. Truncated to 100 bytes.
       *
       * @example Fixed worker code.
       * @maxLength 100
       */
      ["workers/message"]?: string;
      /**
       * User-provided identifier for the version.
       *
       * @example any-identifier-from-external-system
       * @maxLength 25
       */
      ["workers/tag"]?: string;
    };
    bindings?: Schemas.WorkersBindings;
    compatibility_date?: Schemas.WorkersCompatibilityDate;
    compatibility_flags?: Schemas.WorkersCompatibilityFlags;
    /**
     * List of binding types to keep from previous_upload.
     */
    keep_bindings?: string[];
    /**
     * Name of the part in the multipart request that contains the main module (e.g. the file exporting a `fetch` handler). Indicates a `module syntax` Worker, which is required for Version Upload.
     *
     * @example worker.js
     */
    main_module: string;
    usage_model?: Schemas.WorkersUsageModel;
  };
} & {
  [key: string]: Blob[];
};
